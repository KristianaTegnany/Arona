{"version":3,"sources":["../node_modules/nodejs-bing/web.js"],"names":["exports","module","hack","filters","rp","require","cheerio","urlencode","query","url","results","$","xmlMode","items","result"],"mappings":";;AAAAA,OAAO,GAAGC,MAAM,CAANA,OAAAA,GAAiB,UAAA,KAAA,EAA0C;AAAA,MAAzBC,IAAyB,uEAA1C,EAA0C;AAAA,MAAdC,OAAc,uEAA1C,EAA0C;;AACpE,MAAIC,EAAE,GAAGC,OAAO,CAAhB,iBAAgB,CAAhB;;AACA,MAAIC,OAAO,GAAGD,OAAO,CAArB,SAAqB,CAArB;;AACA,MAAIE,SAAS,GAAGF,OAAO,CAAvB,WAAuB,CAAvB;;AAEAG,EAAAA,KAAK,GAAGA,KAAK,CAALA,IAAAA,KAAAA,GAAAA,GAAqBN,IAAI,CAAjCM,IAA6BN,EAA7BM;AACA,MAAIC,GAAG,GAAG,kCAAkCF,SAAS,CAA3C,KAA2C,CAA3C,GAAV,aAAA;AACA,MAAIG,OAAO,GAAX,EAAA;AAEA,SAAO,EAAE,CAAF,GAAE,CAAF,CAAA,IAAA,CACA,UAAA,IAAA,EAAe;AACpBC,IAAAA,CAAC,GAAG,OAAO,CAAP,IAAA,CAAA,IAAA,EAAmB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAnB,CAAJD;AACAE,IAAAA,KAAK,GAAGF,CAAC,CAATE,MAAS,CAATA;AAEAF,IAAAA,CAAC,CAADA,KAAC,CAADA,CAAAA,IAAAA,CAAc,UAAA,CAAA,EAAA,IAAA,EAAkB;AAC/BG,MAAAA,MAAM,GAANA,EAAAA;AACAA,MAAAA,MAAM,CAANA,KAAAA,GAAeH,CAAC,CAADA,IAAC,CAADA,CAAAA,IAAAA,CAAAA,OAAAA,EAAfG,IAAeH,EAAfG;AACAA,MAAAA,MAAM,CAANA,IAAAA,GAAcH,CAAC,CAADA,IAAC,CAADA,CAAAA,IAAAA,CAAAA,MAAAA,EAAdG,IAAcH,EAAdG;AACAA,MAAAA,MAAM,CAANA,WAAAA,GAAqBH,CAAC,CAADA,IAAC,CAADA,CAAAA,IAAAA,CAAAA,aAAAA,EAArBG,IAAqBH,EAArBG;AACAA,MAAAA,MAAM,CAANA,OAAAA,GAAiBH,CAAC,CAADA,IAAC,CAADA,CAAAA,IAAAA,CAAAA,SAAAA,EAAjBG,IAAiBH,EAAjBG;AAEAJ,MAAAA,OAAO,CAAPA,IAAAA,CAAAA,MAAAA;AAPDC,KAAAA;AAUA,WAAA,OAAA;AAfF,GAAO,CAAP;AATDX,CAAAA","sourcesContent":["exports = module.exports = function (query, hack = '', filters = []) {\n\tvar rp = require('request-promise')\n\tvar cheerio = require('cheerio')\n\tvar urlencode = require('urlencode')\n\n\tquery = query.trim() + ' ' + hack.trim()\n\tvar url = 'http://www.bing.com/search?q=' + urlencode(query) + '&format=rss'\n\tvar results = []\n\n\treturn rp(url)\n\t\t.then(function(body) {\n\t\t\t$ = cheerio.load(body, {xmlMode: true})\n\t\t\titems = $('item')\t\n\n\t\t\t$(items).each(function(i, item) {\n\t\t\t\tresult = {}\n\t\t\t\tresult.title = $(item).find('title').text()\n\t\t\t\tresult.link = $(item).find('link').text()\n\t\t\t\tresult.description = $(item).find('description').text()\n\t\t\t\tresult.pubdate = $(item).find('pubDate').text()\n\n\t\t\t\tresults.push(result)\n\t\t\t})\n\n\t\t\treturn results\n\t\t})\n}\n\n\n"],"file":"web.js"}