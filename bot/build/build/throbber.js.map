{"version":3,"sources":["../node_modules/cli-color/throbber.js"],"names":["compose","require","callable","d","validTimeout","chars","l","ThrobberIterator","Object","index","running","next","str","reset","module","exports","interval","format","arguments","iterator","write","start","token","setInterval","restart","stop","clearInterval"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAQC,OAAO,CAA1B,4BAA0B,CAA1B;AAAA,IACIC,QAAQ,GAAOD,OAAO,CAD1B,+BAC0B,CAD1B;AAAA,IAEIE,CAAC,GAAcF,OAAO,CAF1B,GAE0B,CAF1B;AAAA,IAGIG,YAAY,GAAGH,OAAO,CAH1B,0BAG0B,CAH1B;AAAA,IAKII,KAAK,GALT,OAAA;AAAA,IAKqBC,CAAC,GAAGD,KAAK,CAL9B,MAAA;AAAA,IAAA,gBAAA;;AAOAE,gBAAgB,GAAG,4BAAY,CAA/BA,CAAAA;;AACAC,MAAM,CAANA,gBAAAA,CAAwBD,gBAAgB,CAAxCC,SAAAA,EAAoD;AACnDC,EAAAA,KAAK,EAAEN,CAAC,CAAC,CAD0C,CAC3C,CAD2C;AAEnDO,EAAAA,OAAO,EAAEP,CAAC,CAFyC,KAEzC,CAFyC;AAGnDQ,EAAAA,IAAI,EAAER,CAAC,CAAC,YAAY;AACnB,QAAIS,GAAG,GAAG,KAAA,OAAA,GAAA,IAAA,GAAV,EAAA;AACA,QAAI,CAAC,KAAL,OAAA,EAAmB,KAAA,OAAA,GAAA,IAAA;AACnB,WAAOA,GAAG,GAAGP,KAAK,CAAC,KAAA,KAAA,GAAc,CAAC,KAAA,KAAA,GAAD,CAAA,IAAjC,CAAkB,CAAlB;AANkD,GAG5C,CAH4C;AAQnDQ,EAAAA,KAAK,EAAEV,CAAC,CAAC,YAAY;AACpB,QAAI,CAAC,KAAL,OAAA,EAAmB,OAAA,EAAA;AACnB,SAAA,KAAA,GAAa,CAAb,CAAA;AACA,SAAA,OAAA,GAAA,KAAA;AACA,WAAA,IAAA;AAJO,GAAA;AAR2C,CAApDK;;AAgBAM,MAAM,CAANA,OAAAA,GAAiBC,OAAO,GAAG,iBAAA,KAAA,EAAiBC;AAAQ;AAAzB,EAAuC;AACjE,MAAIC,MAAM,GAAGC,SAAS,CAAtB,CAAsB,CAAtB;AAAA,MAAA,KAAA;AAAA,MAAkCC,QAAQ,GAAG,IAA7C,gBAA6C,EAA7C;AACAjB,EAAAA,QAAQ,CAARA,KAAQ,CAARA;AACAc,EAAAA,QAAQ,GAAGZ,YAAY,CAAvBY,QAAuB,CAAvBA;AACA,MAAIC,MAAM,KAAV,SAAA,EAA0BG,KAAK,GAAGpB,OAAO,CAAPA,IAAAA,CAAAA,KAAAA,EAAoBE,QAAQ,CAApCkB,MAAoC,CAA5BpB,CAARoB;AAC1B,SAAO;AACNC,IAAAA,KAAK,EAAE,iBAAY;AAClB,UAAA,KAAA,EAAW;AACXC,MAAAA,KAAK,GAAGC,WAAW,CAAC,YAAY;AAAEH,QAAAA,KAAK,CAACD,QAAQ,CAAdC,IAAMD,EAAD,CAALC;AAAf,OAAA,EAAnBE,QAAmB,CAAnBA;AAHK,KAAA;AAKNE,IAAAA,OAAO,EAAE,mBAAY;AACpB,WAAA,IAAA;AACA,WAAA,KAAA;AAPK,KAAA;AASNC,IAAAA,IAAI,EAAE,gBAAY;AACjB,UAAI,CAAJ,KAAA,EAAY;AACZC,MAAAA,aAAa,CAAbA,KAAa,CAAbA;AACAJ,MAAAA,KAAK,GAALA,IAAAA;AACAF,MAAAA,KAAK,CAACD,QAAQ,CAAdC,KAAMD,EAAD,CAALC;AACA;AAdK,GAAP;AALDN,CAAAA;;AAuBAN,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,UAAAA,EAA2CL,CAAC,CAA5CK,gBAA4C,CAA5CA","sourcesContent":["'use strict';\n\nvar compose      = require('es5-ext/function/#/compose')\n  , callable     = require('es5-ext/object/valid-callable')\n  , d            = require('d')\n  , validTimeout = require('timers-ext/valid-timeout')\n\n  , chars = '-\\\\|/', l = chars.length, ThrobberIterator;\n\nThrobberIterator = function () {};\nObject.defineProperties(ThrobberIterator.prototype, {\n\tindex: d(-1),\n\trunning: d(false),\n\tnext: d(function () {\n\t\tvar str = this.running ? '\\u0008' : '';\n\t\tif (!this.running) this.running = true;\n\t\treturn str + chars[this.index = ((this.index + 1) % l)];\n\t}),\n\treset: d(function () {\n\t\tif (!this.running) return '';\n\t\tthis.index = -1;\n\t\tthis.running = false;\n\t\treturn '\\u0008';\n\t})\n});\n\nmodule.exports = exports = function (write, interval/*, format*/) {\n\tvar format = arguments[2], token, iterator = new ThrobberIterator();\n\tcallable(write);\n\tinterval = validTimeout(interval);\n\tif (format !== undefined) write = compose.call(write, callable(format));\n\treturn {\n\t\tstart: function () {\n\t\t\tif (token) return;\n\t\t\ttoken = setInterval(function () { write(iterator.next()); }, interval);\n\t\t},\n\t\trestart: function () {\n\t\t\tthis.stop();\n\t\t\tthis.start();\n\t\t},\n\t\tstop: function () {\n\t\t\tif (!token) return;\n\t\t\tclearInterval(token);\n\t\t\ttoken = null;\n\t\t\twrite(iterator.reset());\n\t\t}\n\t};\n};\n\nObject.defineProperty(exports, 'Iterator', d(ThrobberIterator));\n"],"file":"throbber.js"}