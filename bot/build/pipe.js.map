{"version":3,"sources":["../node_modules/event-emitter/pipe.js"],"names":["aFrom","require","remove","value","d","emit","methods","defineProperty","Object","hasOwnProperty","prototype","getOwnPropertyDescriptor","module","exports","e1","e2","pipes","pipe","desc","name","arguments","undefined","close","call","__eePipes__","push","get","set","i","emitter","data","apply"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAYC,OAAO,CAAC,oBAAD,CAA5B;AAAA,IACIC,MAAM,GAAWD,OAAO,CAAC,wBAAD,CAD5B;AAAA,IAEIE,KAAK,GAAYF,OAAO,CAAC,6BAAD,CAF5B;AAAA,IAGIG,CAAC,GAAgBH,OAAO,CAAC,GAAD,CAH5B;AAAA,IAIII,IAAI,GAAaJ,OAAO,CAAC,IAAD,CAAP,CAAcK,OAAd,CAAsBD,IAJ3C;AAAA,IAMIE,cAAc,GAAGC,MAAM,CAACD,cAN5B;AAAA,IAOIE,cAAc,GAAGD,MAAM,CAACE,SAAP,CAAiBD,cAPtC;AAAA,IAQIE,wBAAwB,GAAGH,MAAM,CAACG,wBARtC;;AAUAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,EAAV,EAAcC;AAAE;AAAhB,EAA4B;AAC5C,MAAIC,KAAJ,EAAWC,IAAX,EAAiBC,IAAjB,EAAuBC,IAAvB;AAEChB,EAAAA,KAAK,CAACW,EAAD,CAAL,IAAaX,KAAK,CAACY,EAAD,CAAnB;AACAI,EAAAA,IAAI,GAAGC,SAAS,CAAC,CAAD,CAAhB;AACA,MAAID,IAAI,KAAKE,SAAb,EAAwBF,IAAI,GAAG,MAAP;AAExBF,EAAAA,IAAI,GAAG;AACNK,IAAAA,KAAK,EAAE,YAAY;AAAEpB,MAAAA,MAAM,CAACqB,IAAP,CAAYP,KAAZ,EAAmBD,EAAnB;AAAyB;AADxC,GAAP;;AAGA,MAAIN,cAAc,CAACc,IAAf,CAAoBT,EAApB,EAAwB,aAAxB,CAAJ,EAA4C;AAC3C,KAACE,KAAK,GAAGF,EAAE,CAACU,WAAZ,EAAyBC,IAAzB,CAA8BV,EAA9B;;AACA,WAAOE,IAAP;AACA;;AACDV,EAAAA,cAAc,CAACO,EAAD,EAAK,aAAL,EAAoBV,CAAC,CAAC,GAAD,EAAMY,KAAK,GAAG,CAACD,EAAD,CAAd,CAArB,CAAd;AACAG,EAAAA,IAAI,GAAGP,wBAAwB,CAACG,EAAD,EAAKK,IAAL,CAA/B;;AACA,MAAI,CAACD,IAAL,EAAW;AACVA,IAAAA,IAAI,GAAGd,CAAC,CAAC,GAAD,EAAMiB,SAAN,CAAR;AACA,GAFD,MAEO;AACN,WAAOH,IAAI,CAACQ,GAAZ;AACA,WAAOR,IAAI,CAACS,GAAZ;AACA;;AACDT,EAAAA,IAAI,CAACf,KAAL,GAAa,YAAY;AACxB,QAAIyB,CAAJ;AAAA,QAAOC,OAAP;AAAA,QAAgBC,IAAI,GAAG9B,KAAK,CAACgB,KAAD,CAA5B;AACAX,IAAAA,IAAI,CAAC0B,KAAL,CAAW,IAAX,EAAiBX,SAAjB;;AACA,SAAKQ,CAAC,GAAG,CAAT,EAAaC,OAAO,GAAGC,IAAI,CAACF,CAAD,CAA3B,EAAiC,EAAEA,CAAnC,EAAsCvB,IAAI,CAAC0B,KAAL,CAAWF,OAAX,EAAoBT,SAApB;AACtC,GAJD;;AAKAb,EAAAA,cAAc,CAACO,EAAD,EAAKK,IAAL,EAAWD,IAAX,CAAd;AACA,SAAOD,IAAP;AACA,CA7BD","sourcesContent":["'use strict';\n\nvar aFrom          = require('es5-ext/array/from')\n  , remove         = require('es5-ext/array/#/remove')\n  , value          = require('es5-ext/object/valid-object')\n  , d              = require('d')\n  , emit           = require('./').methods.emit\n\n  , defineProperty = Object.defineProperty\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function (e1, e2/*, name*/) {\n\tvar pipes, pipe, desc, name;\n\n\t(value(e1) && value(e2));\n\tname = arguments[2];\n\tif (name === undefined) name = 'emit';\n\n\tpipe = {\n\t\tclose: function () { remove.call(pipes, e2); }\n\t};\n\tif (hasOwnProperty.call(e1, '__eePipes__')) {\n\t\t(pipes = e1.__eePipes__).push(e2);\n\t\treturn pipe;\n\t}\n\tdefineProperty(e1, '__eePipes__', d('c', pipes = [e2]));\n\tdesc = getOwnPropertyDescriptor(e1, name);\n\tif (!desc) {\n\t\tdesc = d('c', undefined);\n\t} else {\n\t\tdelete desc.get;\n\t\tdelete desc.set;\n\t}\n\tdesc.value = function () {\n\t\tvar i, emitter, data = aFrom(pipes);\n\t\temit.apply(this, arguments);\n\t\tfor (i = 0; (emitter = data[i]); ++i) emit.apply(emitter, arguments);\n\t};\n\tdefineProperty(e1, name, desc);\n\treturn pipe;\n};\n"],"file":"pipe.js"}