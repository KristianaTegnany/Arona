{"version":3,"sources":["../node_modules/timers-ext/once.js"],"names":["isValue","require","callable","nextTick","validTimeout","apply","Function","prototype","module","exports","fn","scheduled","run","context","args","delay","timeout","arguments","handle","setTimeout","call","clearTimeout"],"mappings":"AAAA;AAEA;;AAEA,IAAIA,OAAO,GAAQC,OAAO,CAAC,yBAAD,CAA1B;AAAA,IACIC,QAAQ,GAAOD,OAAO,CAAC,+BAAD,CAD1B;AAAA,IAEIE,QAAQ,GAAOF,OAAO,CAAC,WAAD,CAF1B;AAAA,IAGIG,YAAY,GAAGH,OAAO,CAAC,iBAAD,CAH1B;;AAKA,IAAII,KAAK,GAAGC,QAAQ,CAACC,SAAT,CAAmBF,KAA/B;;AAEAG,MAAM,CAACC,OAAP,GAAiB,UAAUC;AAAE;AAAZ,EAA2B;AAC3C,MAAIC,SAAJ;AAAA,MAAeC,GAAf;AAAA,MAAoBC,OAApB;AAAA,MAA6BC,IAA7B;AAAA,MAAmCC,KAAnC;AAAA,MAA0CC,OAAO,GAAGC,SAAS,CAAC,CAAD,CAA7D;AAAA,MAAkEC,MAAlE;AACAhB,EAAAA,QAAQ,CAACQ,EAAD,CAAR;;AACA,MAAIV,OAAO,CAACgB,OAAD,CAAX,EAAsB;AACrBA,IAAAA,OAAO,GAAGZ,YAAY,CAACY,OAAD,CAAtB;AACAD,IAAAA,KAAK,GAAGI,UAAR;AACA,GAHD,MAGO;AACNJ,IAAAA,KAAK,GAAGZ,QAAR;AACA;;AACDS,EAAAA,GAAG,GAAG,YAAY;AACjB,QAAI,CAACD,SAAL,EAAgB,OADC,CACO;;AACxBA,IAAAA,SAAS,GAAG,KAAZ;AACAO,IAAAA,MAAM,GAAG,IAAT;AACAb,IAAAA,KAAK,CAACe,IAAN,CAAWV,EAAX,EAAeG,OAAf,EAAwBC,IAAxB;AACAD,IAAAA,OAAO,GAAG,IAAV;AACAC,IAAAA,IAAI,GAAG,IAAP;AACA,GAPD;;AAQA,SAAO,YAAY;AAClB,QAAIH,SAAJ,EAAe;AACd,UAAI,CAACX,OAAO,CAACkB,MAAD,CAAZ,EAAsB;AACrB;AACA;AACA;;AACDG,MAAAA,YAAY,CAACH,MAAD,CAAZ;AACA;;AACDP,IAAAA,SAAS,GAAG,IAAZ;AACAE,IAAAA,OAAO,GAAG,IAAV;AACAC,IAAAA,IAAI,GAAGG,SAAP;AACAC,IAAAA,MAAM,GAAGH,KAAK,CAACH,GAAD,EAAMI,OAAN,CAAd;AACA,GAZD;AAaA,CA9BD","sourcesContent":["// It's actually \"debounce\"\n\n\"use strict\";\n\nvar isValue      = require(\"es5-ext/object/is-value\")\n  , callable     = require(\"es5-ext/object/valid-callable\")\n  , nextTick     = require(\"next-tick\")\n  , validTimeout = require(\"./valid-timeout\");\n\nvar apply = Function.prototype.apply;\n\nmodule.exports = function (fn/*, timeout*/) {\n\tvar scheduled, run, context, args, delay, timeout = arguments[1], handle;\n\tcallable(fn);\n\tif (isValue(timeout)) {\n\t\ttimeout = validTimeout(timeout);\n\t\tdelay = setTimeout;\n\t} else {\n\t\tdelay = nextTick;\n\t}\n\trun = function () {\n\t\tif (!scheduled) return; // IE8 tends to not clear immediate timeouts properly\n\t\tscheduled = false;\n\t\thandle = null;\n\t\tapply.call(fn, context, args);\n\t\tcontext = null;\n\t\targs = null;\n\t};\n\treturn function () {\n\t\tif (scheduled) {\n\t\t\tif (!isValue(handle)) {\n\t\t\t\t// 'nextTick' based, no room for debounce\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tclearTimeout(handle);\n\t\t}\n\t\tscheduled = true;\n\t\tcontext = this;\n\t\targs = arguments;\n\t\thandle = delay(run, timeout);\n\t};\n};\n"],"file":"once.js"}