{"version":3,"sources":["../node_modules/cli-color/columns.js"],"names":["from","require","iterable","stringifiable","repeat","getStrippedLength","module","exports","rows","options","Object","arguments","cols","colsOptions","columns","row","index","str","col","strLength","width","length","map","item","pad","align","colOptions","call","join","sep"],"mappings":"AAAA;;AAEA,IAAIA,IAAI,GAAgBC,OAAO,CAAC,oBAAD,CAA/B;AAAA,IACIC,QAAQ,GAAYD,OAAO,CAAC,kCAAD,CAD/B;AAAA,IAEIE,aAAa,GAAOF,OAAO,CAAC,uCAAD,CAF/B;AAAA,IAGIG,MAAM,GAAcH,OAAO,CAAC,yBAAD,CAH/B;AAAA,IAIII,iBAAiB,GAAGJ,OAAO,CAAC,uBAAD,CAJ/B;;AAMAK,MAAM,CAACC,OAAP,GAAiB,UAAUC;AAAI;AAAd,EAA6B;AAC7C,MAAIC,OAAO,GAAGC,MAAM,CAACC,SAAS,CAAC,CAAD,CAAV,CAApB;AAAA,MAAoCC,IAAI,GAAG,EAA3C;AAAA,MACIC,WAAW,GAAGJ,OAAO,CAACK,OAAR,IAAmB,EADrC;AAEA,SAAOd,IAAI,CAACE,QAAQ,CAACM,IAAD,CAAT,EAAiB,UAAUO,GAAV,EAAeC,KAAf,EAAsB;AACjD,WAAOhB,IAAI,CAACE,QAAQ,CAACa,GAAD,CAAT,EAAgB,UAAUE,GAAV,EAAeD,KAAf,EAAsB;AAChD,UAAIE,GAAG,GAAGN,IAAI,CAACI,KAAD,CAAd;AAAA,UAAuBG,SAAvB;AACA,UAAI,CAACD,GAAL,EAAUA,GAAG,GAAGN,IAAI,CAACI,KAAD,CAAJ,GAAc;AAAEI,QAAAA,KAAK,EAAE;AAAT,OAApB;AACVH,MAAAA,GAAG,GAAGd,aAAa,CAACc,GAAD,CAAnB;AACAE,MAAAA,SAAS,GAAGd,iBAAiB,CAACY,GAAD,CAA7B;AACA,UAAIE,SAAS,GAAGD,GAAG,CAACE,KAApB,EAA2BF,GAAG,CAACE,KAAJ,GAAYD,SAAZ;AAC3B,aAAO;AAAEF,QAAAA,GAAG,EAAEA,GAAP;AAAYI,QAAAA,MAAM,EAAEF;AAApB,OAAP;AACA,KAPU,CAAX;AAQA,GATU,CAAJ,CASJG,GATI,CASA,UAAUP,GAAV,EAAe;AACrB,WAAOA,GAAG,CAACO,GAAJ,CAAQ,UAAUC,IAAV,EAAgBP,KAAhB,EAAuB;AACrC,UAAIQ,GAAJ;AAAA,UAASC,KAAK,GAAG,MAAjB;AAAA,UAAyBC,UAAU,GAAGb,WAAW,IAAIA,WAAW,CAACG,KAAD,CAAhE;AACAS,MAAAA,KAAK,GAAIC,UAAU,IAAKA,UAAU,CAACD,KAAX,KAAqB,OAArC,GAAiD,OAAjD,GAA2D,MAAnE;AACAD,MAAAA,GAAG,GAAGpB,MAAM,CAACuB,IAAP,CAAY,GAAZ,EAAiBf,IAAI,CAACI,KAAD,CAAJ,CAAYI,KAAZ,GAAoBG,IAAI,CAACF,MAA1C,CAAN;AACA,UAAII,KAAK,KAAK,MAAd,EAAsB,OAAOF,IAAI,CAACN,GAAL,GAAWO,GAAlB;AACtB,aAAOA,GAAG,GAAGD,IAAI,CAACN,GAAlB;AACA,KANM,EAMJW,IANI,CAMEnB,OAAO,CAACoB,GAAR,IAAe,IAAhB,GAAwB,KAAxB,GAAgCpB,OAAO,CAACoB,GANzC,CAAP;AAOA,GAjBM,EAiBJD,IAjBI,CAiBC,IAjBD,IAiBS,IAjBhB;AAkBA,CArBD","sourcesContent":["'use strict';\n\nvar from              = require('es5-ext/array/from')\n  , iterable          = require('es5-ext/iterable/validate-object')\n  , stringifiable     = require('es5-ext/object/validate-stringifiable')\n  , repeat            = require('es5-ext/string/#/repeat')\n  , getStrippedLength = require('./get-stripped-length');\n\nmodule.exports = function (rows/*, options*/) {\n\tvar options = Object(arguments[1]), cols = []\n\t  , colsOptions = options.columns || [];\n\treturn from(iterable(rows), function (row, index) {\n\t\treturn from(iterable(row), function (str, index) {\n\t\t\tvar col = cols[index], strLength;\n\t\t\tif (!col) col = cols[index] = { width: 0 };\n\t\t\tstr = stringifiable(str);\n\t\t\tstrLength = getStrippedLength(str);\n\t\t\tif (strLength > col.width) col.width = strLength;\n\t\t\treturn { str: str, length: strLength };\n\t\t});\n\t}).map(function (row) {\n\t\treturn row.map(function (item, index) {\n\t\t\tvar pad, align = 'left', colOptions = colsOptions && colsOptions[index];\n\t\t\talign = (colOptions && (colOptions.align === 'right')) ? 'right' : 'left';\n\t\t\tpad = repeat.call(' ', cols[index].width - item.length);\n\t\t\tif (align === 'left') return item.str + pad;\n\t\t\treturn pad + item.str;\n\t\t}).join((options.sep == null) ? ' | ' : options.sep);\n\t}).join('\\n') + '\\n';\n};\n"],"file":"columns.js"}