{"version":3,"sources":["../node_modules/external-editor/example_async.js"],"names":["ExternalEditor","require","readline","rl","createInterface","input","process","stdin","output","message","stdout","write","editor","on","pause","runAsync","error","response","exit","length","moveCursor","resume","close","err","stderr"],"mappings":"AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,cAAvC;;AACA,IAAIE,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AAEA,IAAIE,EAAE,GAAGD,QAAQ,CAACE,eAAT,CAAyB;AAChCC,EAAAA,KAAK,EAAEC,OAAO,CAACC,KADiB;AAEhCC,EAAAA,MAAM,EAAE;AAFwB,CAAzB,CAAT;AAKA,IAAIC,OAAO,GAAG,qEAAd;AAEAH,OAAO,CAACI,MAAR,CAAeC,KAAf,CAAqB,uEAArB;AAEAC,MAAM,GAAG,IAAIZ,cAAJ,CAAmBS,OAAnB,CAAT;AAEAN,EAAE,CAACU,EAAH,CAAM,MAAN,EAAc,YAAY;AACxB,MAAI;AACFV,IAAAA,EAAE,CAACW,KAAH;AACAF,IAAAA,MAAM,CAACG,QAAP,CAAgB,UAAUC,KAAV,EAAiBC,QAAjB,EAChB;AACE,UAAID,KAAJ,EAAW;AACTV,QAAAA,OAAO,CAACI,MAAR,CAAeC,KAAf,CAAqBK,KAAK,CAACP,OAA3B;AACAH,QAAAA,OAAO,CAACY,IAAR,CAAa,CAAb;AACD;;AACD,UAAID,QAAQ,CAACE,MAAT,KAAoB,CAAxB,EAA2B;AACzBjB,QAAAA,QAAQ,CAACkB,UAAT,CAAoBd,OAAO,CAACI,MAA5B,EAAoC,CAApC,EAAuC,CAAC,CAAxC;AACAJ,QAAAA,OAAO,CAACI,MAAR,CAAeC,KAAf,CAAqB,yFAArB;AACAR,QAAAA,EAAE,CAACkB,MAAH;AACD,OAJD,MAIO;AACLf,QAAAA,OAAO,CAACI,MAAR,CAAeC,KAAf,CAAqB,iBAArB;AACAL,QAAAA,OAAO,CAACI,MAAR,CAAeC,KAAf,CAAqBM,QAArB;AACAX,QAAAA,OAAO,CAACI,MAAR,CAAeC,KAAf,CAAqB,IAArB;AACAR,QAAAA,EAAE,CAACmB,KAAH;AACD;AACF,KAhBD;AAiBD,GAnBD,CAmBE,OAAOC,GAAP,EAAY;AACZjB,IAAAA,OAAO,CAACkB,MAAR,CAAeb,KAAf,CAAqBY,GAAG,CAACd,OAAzB;AACAH,IAAAA,OAAO,CAACI,MAAR,CAAeC,KAAf,CAAqB,IAArB;AACAR,IAAAA,EAAE,CAACmB,KAAH;AACD;AACF,CAzBD","sourcesContent":["var ExternalEditor = require('./main').ExternalEditor;\nvar readline = require('readline');\n\nvar rl = readline.createInterface({\n  input: process.stdin,\n  output: null\n});\n\nvar message = '\\n\\n# Please Write a message\\n# Any line starting with # is ignored';\n\nprocess.stdout.write('Please write a message. (press enter to launch your preferred editor)');\n\neditor = new ExternalEditor(message);\n\nrl.on('line', function () {\n  try {\n    rl.pause();\n    editor.runAsync(function (error, response)\n    {\n      if (error) {\n        process.stdout.write(error.message);\n        process.exit(1);\n      }\n      if (response.length === 0) {\n        readline.moveCursor(process.stdout, 0, -1);\n        process.stdout.write('Your message was empty, please try again. (press enter to launch your preferred editor)');\n        rl.resume();\n      } else {\n        process.stdout.write('Your Message:\\n');\n        process.stdout.write(response);\n        process.stdout.write('\\n');\n        rl.close();\n      }\n    });\n  } catch (err) {\n    process.stderr.write(err.message);\n    process.stdout.write('\\n');\n    rl.close();\n  }\n});\n"],"file":"example_async.js"}