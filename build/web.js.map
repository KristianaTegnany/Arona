{"version":3,"sources":["../node_modules/nodejs-bing/web.js"],"names":["exports","module","query","hack","filters","rp","require","cheerio","urlencode","trim","url","results","then","body","$","load","xmlMode","items","each","i","item","result","title","find","text","link","description","pubdate","push"],"mappings":"AAAAA,OAAO,GAAGC,MAAM,CAACD,OAAP,GAAiB,UAAUE,KAAV,EAAiBC,IAAI,GAAG,EAAxB,EAA4BC,OAAO,GAAG,EAAtC,EAA0C;AACpE,MAAIC,EAAE,GAAGC,OAAO,CAAC,iBAAD,CAAhB;;AACA,MAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACA,MAAIE,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAvB;;AAEAJ,EAAAA,KAAK,GAAGA,KAAK,CAACO,IAAN,KAAe,GAAf,GAAqBN,IAAI,CAACM,IAAL,EAA7B;AACA,MAAIC,GAAG,GAAG,kCAAkCF,SAAS,CAACN,KAAD,CAA3C,GAAqD,aAA/D;AACA,MAAIS,OAAO,GAAG,EAAd;AAEA,SAAON,EAAE,CAACK,GAAD,CAAF,CACLE,IADK,CACA,UAASC,IAAT,EAAe;AACpBC,IAAAA,CAAC,GAAGP,OAAO,CAACQ,IAAR,CAAaF,IAAb,EAAmB;AAACG,MAAAA,OAAO,EAAE;AAAV,KAAnB,CAAJ;AACAC,IAAAA,KAAK,GAAGH,CAAC,CAAC,MAAD,CAAT;AAEAA,IAAAA,CAAC,CAACG,KAAD,CAAD,CAASC,IAAT,CAAc,UAASC,CAAT,EAAYC,IAAZ,EAAkB;AAC/BC,MAAAA,MAAM,GAAG,EAAT;AACAA,MAAAA,MAAM,CAACC,KAAP,GAAeR,CAAC,CAACM,IAAD,CAAD,CAAQG,IAAR,CAAa,OAAb,EAAsBC,IAAtB,EAAf;AACAH,MAAAA,MAAM,CAACI,IAAP,GAAcX,CAAC,CAACM,IAAD,CAAD,CAAQG,IAAR,CAAa,MAAb,EAAqBC,IAArB,EAAd;AACAH,MAAAA,MAAM,CAACK,WAAP,GAAqBZ,CAAC,CAACM,IAAD,CAAD,CAAQG,IAAR,CAAa,aAAb,EAA4BC,IAA5B,EAArB;AACAH,MAAAA,MAAM,CAACM,OAAP,GAAiBb,CAAC,CAACM,IAAD,CAAD,CAAQG,IAAR,CAAa,SAAb,EAAwBC,IAAxB,EAAjB;AAEAb,MAAAA,OAAO,CAACiB,IAAR,CAAaP,MAAb;AACA,KARD;AAUA,WAAOV,OAAP;AACA,GAhBK,CAAP;AAiBA,CA1BD","sourcesContent":["exports = module.exports = function (query, hack = '', filters = []) {\n\tvar rp = require('request-promise')\n\tvar cheerio = require('cheerio')\n\tvar urlencode = require('urlencode')\n\n\tquery = query.trim() + ' ' + hack.trim()\n\tvar url = 'http://www.bing.com/search?q=' + urlencode(query) + '&format=rss'\n\tvar results = []\n\n\treturn rp(url)\n\t\t.then(function(body) {\n\t\t\t$ = cheerio.load(body, {xmlMode: true})\n\t\t\titems = $('item')\t\n\n\t\t\t$(items).each(function(i, item) {\n\t\t\t\tresult = {}\n\t\t\t\tresult.title = $(item).find('title').text()\n\t\t\t\tresult.link = $(item).find('link').text()\n\t\t\t\tresult.description = $(item).find('description').text()\n\t\t\t\tresult.pubdate = $(item).find('pubDate').text()\n\n\t\t\t\tresults.push(result)\n\t\t\t})\n\n\t\t\treturn results\n\t\t})\n}\n\n\n"],"file":"web.js"}