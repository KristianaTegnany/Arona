{"version":3,"sources":["../node_modules/hosted-git-info/git-host.js"],"names":["gitHosts","require","extend","Object","assign","_extend","GitHost","module","exports","type","user","auth","project","committish","defaultRepresentation","opts","gitHostInfo","keys","forEach","key","default","prototype","hash","_fill","template","vars","path","replace","self","rawAuth","rawComittish","rawFragment","fragment","rawPath","encodeURIComponent","hashformat","noCommittish","comittish","treepath","res","RegExp","noGitPlus","ssh","sshtemplate","sshurl","sshurltemplate","browse","P","F","browsefiletemplate","browsetemplate","docs","docstemplate","bugs","bugstemplate","https","httpstemplate","git","gittemplate","shortcut","shortcuttemplate","pathtemplate","tarball","tarballtemplate","file","filetemplate","getDefaultRepresentation","toString","call"],"mappings":"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","sourcesContent":["'use strict'\nvar gitHosts = require('./git-host-info.js')\n/* eslint-disable node/no-deprecated-api */\nvar extend = Object.assign || require('util')._extend\n\nvar GitHost = module.exports = function (type, user, auth, project, committish, defaultRepresentation, opts) {\n  var gitHostInfo = this\n  gitHostInfo.type = type\n  Object.keys(gitHosts[type]).forEach(function (key) {\n    gitHostInfo[key] = gitHosts[type][key]\n  })\n  gitHostInfo.user = user\n  gitHostInfo.auth = auth\n  gitHostInfo.project = project\n  gitHostInfo.committish = committish\n  gitHostInfo.default = defaultRepresentation\n  gitHostInfo.opts = opts || {}\n}\nGitHost.prototype = {}\n\nGitHost.prototype.hash = function () {\n  return this.committish ? '#' + this.committish : ''\n}\n\nGitHost.prototype._fill = function (template, opts) {\n  if (!template) return\n  var vars = extend({}, opts)\n  vars.path = vars.path ? vars.path.replace(/^[/]+/g, '') : ''\n  opts = extend(extend({}, this.opts), opts)\n  var self = this\n  Object.keys(this).forEach(function (key) {\n    if (self[key] != null && vars[key] == null) vars[key] = self[key]\n  })\n  var rawAuth = vars.auth\n  var rawComittish = vars.committish\n  var rawFragment = vars.fragment\n  var rawPath = vars.path\n  Object.keys(vars).forEach(function (key) {\n    vars[key] = encodeURIComponent(vars[key])\n  })\n  vars['auth@'] = rawAuth ? rawAuth + '@' : ''\n  vars['#fragment'] = rawFragment ? '#' + this.hashformat(rawFragment) : ''\n  vars.fragment = vars.fragment ? vars.fragment : ''\n  vars['#path'] = rawPath ? '#' + this.hashformat(rawPath) : ''\n  vars['/path'] = vars.path ? '/' + vars.path : ''\n  if (opts.noCommittish) {\n    vars['#committish'] = ''\n    vars['/tree/committish'] = ''\n    vars['/comittish'] = ''\n    vars.comittish = ''\n  } else {\n    vars['#committish'] = rawComittish ? '#' + rawComittish : ''\n    vars['/tree/committish'] = vars.committish\n      ? '/' + vars.treepath + '/' + vars.committish\n      : ''\n    vars['/committish'] = vars.committish ? '/' + vars.committish : ''\n    vars.committish = vars.committish || 'master'\n  }\n  var res = template\n  Object.keys(vars).forEach(function (key) {\n    res = res.replace(new RegExp('[{]' + key + '[}]', 'g'), vars[key])\n  })\n  if (opts.noGitPlus) {\n    return res.replace(/^git[+]/, '')\n  } else {\n    return res\n  }\n}\n\nGitHost.prototype.ssh = function (opts) {\n  return this._fill(this.sshtemplate, opts)\n}\n\nGitHost.prototype.sshurl = function (opts) {\n  return this._fill(this.sshurltemplate, opts)\n}\n\nGitHost.prototype.browse = function (P, F, opts) {\n  if (typeof P === 'string') {\n    if (typeof F !== 'string') {\n      opts = F\n      F = null\n    }\n    return this._fill(this.browsefiletemplate, extend({\n      fragment: F,\n      path: P\n    }, opts))\n  } else {\n    return this._fill(this.browsetemplate, P)\n  }\n}\n\nGitHost.prototype.docs = function (opts) {\n  return this._fill(this.docstemplate, opts)\n}\n\nGitHost.prototype.bugs = function (opts) {\n  return this._fill(this.bugstemplate, opts)\n}\n\nGitHost.prototype.https = function (opts) {\n  return this._fill(this.httpstemplate, opts)\n}\n\nGitHost.prototype.git = function (opts) {\n  return this._fill(this.gittemplate, opts)\n}\n\nGitHost.prototype.shortcut = function (opts) {\n  return this._fill(this.shortcuttemplate, opts)\n}\n\nGitHost.prototype.path = function (opts) {\n  return this._fill(this.pathtemplate, opts)\n}\n\nGitHost.prototype.tarball = function (opts) {\n  return this._fill(this.tarballtemplate, opts)\n}\n\nGitHost.prototype.file = function (P, opts) {\n  return this._fill(this.filetemplate, extend({ path: P }, opts))\n}\n\nGitHost.prototype.getDefaultRepresentation = function () {\n  return this.default\n}\n\nGitHost.prototype.toString = function (opts) {\n  return (this[this.default] || this.sshurl).call(this, opts)\n}\n"],"file":"git-host.js"}