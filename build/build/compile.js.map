{"version":3,"sources":["../node_modules/nth-check/compile.js"],"names":["module","BaseFuncs","require","trueFunc","falseFunc","a","parsed","b","pos","bMod"],"mappings":";;AAAAA,MAAM,CAANA,OAAAA,GAAAA,OAAAA;;AAEA,IAAIC,SAAS,GAAGC,OAAO,CAAvB,UAAuB,CAAvB;AAAA,IACIC,QAAQ,GAAIF,SAAS,CADzB,QAAA;AAAA,IAEIG,SAAS,GAAGH,SAAS,CAFzB,SAAA;AAIA;;;;;;AAIA,SAAA,OAAA,CAAA,MAAA,EAAwB;AACvB,MAAII,CAAC,GAAGC,MAAM,CAAd,CAAc,CAAd;AAAA,MACIC,CAAC,GAAGD,MAAM,CAANA,CAAM,CAANA,GAFe,CACvB,CADuB,CAIvB;AACA;;AACA,MAAGC,CAAC,GAADA,CAAAA,IAASF,CAAC,IAAb,CAAA,EAAoB,OANG,SAMH,CANG,CAQvB;;AACA,MAAGA,CAAC,KAAI,CAAR,CAAA,EAAY,OAAO,UAAA,GAAA,EAAa;AAAE,WAAOG,GAAG,IAAV,CAAA;AAAtB,GAAA;AACZ,MAAGH,CAAC,KAAJ,CAAA,EAAY,OAAO,UAAA,GAAA,EAAa;AAAE,WAAOG,GAAG,KAAV,CAAA;AAVX,GAUX,CAVW,CAWvB;;AACA,MAAGH,CAAC,KAAJ,CAAA,EAAY,OAAOE,CAAC,GAADA,CAAAA,GAAAA,QAAAA,GAAmB,UAAA,GAAA,EAAa;AAAE,WAAOC,GAAG,IAAV,CAAA;AAZ9B,GAYX,CAZW,CAcvB;;AACA,MAAIC,IAAI,GAAGF,CAAC,GAAZ,CAAA;AACA,MAAGE,IAAI,GAAP,CAAA,EAAaA,IAAI,IAAJA,CAAAA;;AAEb,MAAGJ,CAAC,GAAJ,CAAA,EAAS;AACR,WAAO,UAAA,GAAA,EAAa;AACnB,aAAOG,GAAG,IAAHA,CAAAA,IAAYA,GAAG,GAAHA,CAAAA,KAAnB,IAAA;AADD,KAAA;AAGA;;AAEDH,EAAAA,CAAC,IAAI,CAxBkB,CAwBvBA,CAxBuB,CAwBd;;AAET,SAAO,UAAA,GAAA,EAAa;AACnB,WAAOG,GAAG,IAAHA,CAAAA,IAAYA,GAAG,GAAHA,CAAAA,KAAnB,IAAA;AADD,GAAA;AAGA","sourcesContent":["module.exports = compile;\n\nvar BaseFuncs = require(\"boolbase\"),\n    trueFunc  = BaseFuncs.trueFunc,\n    falseFunc = BaseFuncs.falseFunc;\n\n/*\n\treturns a function that checks if an elements index matches the given rule\n\thighly optimized to return the fastest solution\n*/\nfunction compile(parsed){\n\tvar a = parsed[0],\n\t    b = parsed[1] - 1;\n\n\t//when b <= 0, a*n won't be possible for any matches when a < 0\n\t//besides, the specification says that no element is matched when a and b are 0\n\tif(b < 0 && a <= 0) return falseFunc;\n\n\t//when a is in the range -1..1, it matches any element (so only b is checked)\n\tif(a ===-1) return function(pos){ return pos <= b; };\n\tif(a === 0) return function(pos){ return pos === b; };\n\t//when b <= 0 and a === 1, they match any element\n\tif(a === 1) return b < 0 ? trueFunc : function(pos){ return pos >= b; };\n\n\t//when a > 0, modulo can be used to check if there is a match\n\tvar bMod = b % a;\n\tif(bMod < 0) bMod += a;\n\n\tif(a > 1){\n\t\treturn function(pos){\n\t\t\treturn pos >= b && pos % a === bMod;\n\t\t};\n\t}\n\n\ta *= -1; //make `a` positive\n\n\treturn function(pos){\n\t\treturn pos <= b && pos % a === bMod;\n\t};\n}"],"file":"compile.js"}