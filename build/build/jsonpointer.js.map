{"version":3,"sources":["../node_modules/jsonpointer/jsonpointer.js"],"names":["hasExcape","escapeMatcher","str","p","len","pointer","part","untilde","hasNextPart","obj","Array","oldValue","value","compilePointer","setter","compiled","get","set","exports"],"mappings":"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","sourcesContent":["var hasExcape = /~/\nvar escapeMatcher = /~[01]/g\nfunction escapeReplacer (m) {\n  switch (m) {\n    case '~1': return '/'\n    case '~0': return '~'\n  }\n  throw new Error('Invalid tilde escape: ' + m)\n}\n\nfunction untilde (str) {\n  if (!hasExcape.test(str)) return str\n  return str.replace(escapeMatcher, escapeReplacer)\n}\n\nfunction setter (obj, pointer, value) {\n  var part\n  var hasNextPart\n\n  for (var p = 1, len = pointer.length; p < len;) {\n    part = untilde(pointer[p++])\n    hasNextPart = len > p\n\n    if (typeof obj[part] === 'undefined') {\n      // support setting of /-\n      if (Array.isArray(obj) && part === '-') {\n        part = obj.length\n      }\n\n      // support nested objects/array when setting values\n      if (hasNextPart) {\n        if ((pointer[p] !== '' && pointer[p] < Infinity) || pointer[p] === '-') obj[part] = []\n        else obj[part] = {}\n      }\n    }\n\n    if (!hasNextPart) break\n    obj = obj[part]\n  }\n\n  var oldValue = obj[part]\n  if (value === undefined) delete obj[part]\n  else obj[part] = value\n  return oldValue\n}\n\nfunction compilePointer (pointer) {\n  if (typeof pointer === 'string') {\n    pointer = pointer.split('/')\n    if (pointer[0] === '') return pointer\n    throw new Error('Invalid JSON pointer.')\n  } else if (Array.isArray(pointer)) {\n    return pointer\n  }\n\n  throw new Error('Invalid JSON pointer.')\n}\n\nfunction get (obj, pointer) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  var len = pointer.length\n  if (len === 1) return obj\n\n  for (var p = 1; p < len;) {\n    obj = obj[untilde(pointer[p++])]\n    if (len === p) return obj\n    if (typeof obj !== 'object') return undefined\n  }\n}\n\nfunction set (obj, pointer, value) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  if (pointer.length === 0) throw new Error('Invalid JSON pointer for set.')\n  return setter(obj, pointer, value)\n}\n\nfunction compile (pointer) {\n  var compiled = compilePointer(pointer)\n  return {\n    get: function (object) {\n      return get(object, compiled)\n    },\n    set: function (object, value) {\n      return set(object, compiled, value)\n    }\n  }\n}\n\nexports.get = get\nexports.set = set\nexports.compile = compile\n"],"file":"jsonpointer.js"}