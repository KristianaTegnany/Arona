{"version":3,"sources":["../node_modules/timers-ext/once.js"],"names":["isValue","require","callable","nextTick","validTimeout","apply","Function","module","fn","timeout","arguments","delay","run","scheduled","handle","context","args","clearTimeout"],"mappings":"AAAA;AAEA;;AAEA,IAAIA,OAAO,GAAQC,OAAO,CAA1B,yBAA0B,CAA1B;AAAA,IACIC,QAAQ,GAAOD,OAAO,CAD1B,+BAC0B,CAD1B;AAAA,IAEIE,QAAQ,GAAOF,OAAO,CAF1B,WAE0B,CAF1B;AAAA,IAGIG,YAAY,GAAGH,OAAO,CAH1B,iBAG0B,CAH1B;;AAKA,IAAII,KAAK,GAAGC,QAAQ,CAARA,SAAAA,CAAZ,KAAA;;AAEAC,MAAM,CAANA,OAAAA,GAAiB,UAAUC;AAAE;AAAZ,EAA2B;AAC3C,MAAA,SAAA;AAAA,MAAA,GAAA;AAAA,MAAA,OAAA;AAAA,MAAA,IAAA;AAAA,MAAA,KAAA;AAAA,MAA0CC,OAAO,GAAGC,SAAS,CAA7D,CAA6D,CAA7D;AAAA,MAAA,MAAA;AACAR,EAAAA,QAAQ,CAARA,EAAQ,CAARA;;AACA,MAAIF,OAAO,CAAX,OAAW,CAAX,EAAsB;AACrBS,IAAAA,OAAO,GAAGL,YAAY,CAAtBK,OAAsB,CAAtBA;AACAE,IAAAA,KAAK,GAALA,UAAAA;AAFD,GAAA,MAGO;AACNA,IAAAA,KAAK,GAALA,QAAAA;AACA;;AACDC,EAAAA,GAAG,GAAG,eAAY;AACjB,QAAI,CAAJ,SAAA,EADiB,OAAA,CACO;;AACxBC,IAAAA,SAAS,GAATA,KAAAA;AACAC,IAAAA,MAAM,GAANA,IAAAA;AACAT,IAAAA,KAAK,CAALA,IAAAA,CAAAA,EAAAA,EAAAA,OAAAA,EAAAA,IAAAA;AACAU,IAAAA,OAAO,GAAPA,IAAAA;AACAC,IAAAA,IAAI,GAAJA,IAAAA;AANDJ,GAAAA;;AAQA,SAAO,YAAY;AAClB,QAAA,SAAA,EAAe;AACd,UAAI,CAACZ,OAAO,CAAZ,MAAY,CAAZ,EAAsB;AACrB;AACA;AACA;;AACDiB,MAAAA,YAAY,CAAZA,MAAY,CAAZA;AACA;;AACDJ,IAAAA,SAAS,GAATA,IAAAA;AACAE,IAAAA,OAAO,GAAPA,IAAAA;AACAC,IAAAA,IAAI,GAAJA,SAAAA;AACAF,IAAAA,MAAM,GAAGH,KAAK,CAAA,GAAA,EAAdG,OAAc,CAAdA;AAXD,GAAA;AAjBDP,CAAAA","sourcesContent":["// It's actually \"debounce\"\n\n\"use strict\";\n\nvar isValue      = require(\"es5-ext/object/is-value\")\n  , callable     = require(\"es5-ext/object/valid-callable\")\n  , nextTick     = require(\"next-tick\")\n  , validTimeout = require(\"./valid-timeout\");\n\nvar apply = Function.prototype.apply;\n\nmodule.exports = function (fn/*, timeout*/) {\n\tvar scheduled, run, context, args, delay, timeout = arguments[1], handle;\n\tcallable(fn);\n\tif (isValue(timeout)) {\n\t\ttimeout = validTimeout(timeout);\n\t\tdelay = setTimeout;\n\t} else {\n\t\tdelay = nextTick;\n\t}\n\trun = function () {\n\t\tif (!scheduled) return; // IE8 tends to not clear immediate timeouts properly\n\t\tscheduled = false;\n\t\thandle = null;\n\t\tapply.call(fn, context, args);\n\t\tcontext = null;\n\t\targs = null;\n\t};\n\treturn function () {\n\t\tif (scheduled) {\n\t\t\tif (!isValue(handle)) {\n\t\t\t\t// 'nextTick' based, no room for debounce\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tclearTimeout(handle);\n\t\t}\n\t\tscheduled = true;\n\t\tcontext = this;\n\t\targs = arguments;\n\t\thandle = delay(run, timeout);\n\t};\n};\n"],"file":"once.js"}