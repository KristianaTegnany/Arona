{"version":3,"sources":["../node_modules/through2/through2.js"],"names":["Transform","require","inherits","xtend","DestroyableTransform","self","process","callback","flush","transform","options","construct","module","through2","t2","Through2","objectMode","highWaterMark"],"mappings":"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","sourcesContent":["var Transform = require('readable-stream').Transform\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n"],"file":"through2.js"}