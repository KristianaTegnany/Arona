{"version":3,"sources":["../node_modules/event-emitter/pipe.js"],"names":["aFrom","require","remove","value","d","emit","defineProperty","Object","hasOwnProperty","getOwnPropertyDescriptor","module","e2","name","arguments","pipe","close","pipes","e1","desc","data","i","emitter"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAYC,OAAO,CAA5B,oBAA4B,CAA5B;AAAA,IACIC,MAAM,GAAWD,OAAO,CAD5B,wBAC4B,CAD5B;AAAA,IAEIE,KAAK,GAAYF,OAAO,CAF5B,6BAE4B,CAF5B;AAAA,IAGIG,CAAC,GAAgBH,OAAO,CAH5B,GAG4B,CAH5B;AAAA,IAIII,IAAI,GAAaJ,OAAO,CAAPA,IAAO,CAAPA,CAAAA,OAAAA,CAJrB,IAAA;AAAA,IAMIK,cAAc,GAAGC,MAAM,CAN3B,cAAA;AAAA,IAOIC,cAAc,GAAGD,MAAM,CAANA,SAAAA,CAPrB,cAAA;AAAA,IAQIE,wBAAwB,GAAGF,MAAM,CARrC,wBAAA;;AAUAG,MAAM,CAANA,OAAAA,GAAiB,UAAA,EAAA,EAAcC;AAAE;AAAhB,EAA4B;AAC5C,MAAA,KAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA;AAECR,EAAAA,KAAK,CAALA,EAAK,CAALA,IAAaA,KAAK,CAAnB,EAAmB,CAAlBA;AACDS,EAAAA,IAAI,GAAGC,SAAS,CAAhBD,CAAgB,CAAhBA;AACA,MAAIA,IAAI,KAAR,SAAA,EAAwBA,IAAI,GAAJA,MAAAA;AAExBE,EAAAA,IAAI,GAAG;AACNC,IAAAA,KAAK,EAAE,iBAAY;AAAEb,MAAAA,MAAM,CAANA,IAAAA,CAAAA,KAAAA,EAAAA,EAAAA;AAAyB;AADxC,GAAPY;;AAGA,MAAIN,cAAc,CAAdA,IAAAA,CAAAA,EAAAA,EAAJ,aAAIA,CAAJ,EAA4C;AAC3C,KAACQ,KAAK,GAAGC,EAAE,CAAX,WAAA,EAAA,IAAA,CAAA,EAAA;;AACA,WAAA,IAAA;AACA;;AACDX,EAAAA,cAAc,CAAA,EAAA,EAAA,aAAA,EAAoBF,CAAC,CAAA,GAAA,EAAMY,KAAK,GAAG,CAAjDV,EAAiD,CAAd,CAArB,CAAdA;AACAY,EAAAA,IAAI,GAAGT,wBAAwB,CAAA,EAAA,EAA/BS,IAA+B,CAA/BA;;AACA,MAAI,CAAJ,IAAA,EAAW;AACVA,IAAAA,IAAI,GAAGd,CAAC,CAAA,GAAA,EAARc,SAAQ,CAARA;AADD,GAAA,MAEO;AACN,WAAOA,IAAI,CAAX,GAAA;AACA,WAAOA,IAAI,CAAX,GAAA;AACA;;AACDA,EAAAA,IAAI,CAAJA,KAAAA,GAAa,YAAY;AACxB,QAAA,CAAA;AAAA,QAAA,OAAA;AAAA,QAAgBC,IAAI,GAAGnB,KAAK,CAA5B,KAA4B,CAA5B;AACAK,IAAAA,IAAI,CAAJA,KAAAA,CAAAA,IAAAA,EAAAA,SAAAA;;AACA,SAAKe,CAAC,GAAN,CAAA,EAAaC,OAAO,GAAGF,IAAI,CAA3B,CAA2B,CAA3B,EAAiC,EAAjC,CAAA;AAAsCd,MAAAA,IAAI,CAAJA,KAAAA,CAAAA,OAAAA,EAAAA,SAAAA;AAAtC;AAHDa,GAAAA;;AAKAZ,EAAAA,cAAc,CAAA,EAAA,EAAA,IAAA,EAAdA,IAAc,CAAdA;AACA,SAAA,IAAA;AA5BDI,CAAAA","sourcesContent":["'use strict';\n\nvar aFrom          = require('es5-ext/array/from')\n  , remove         = require('es5-ext/array/#/remove')\n  , value          = require('es5-ext/object/valid-object')\n  , d              = require('d')\n  , emit           = require('./').methods.emit\n\n  , defineProperty = Object.defineProperty\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function (e1, e2/*, name*/) {\n\tvar pipes, pipe, desc, name;\n\n\t(value(e1) && value(e2));\n\tname = arguments[2];\n\tif (name === undefined) name = 'emit';\n\n\tpipe = {\n\t\tclose: function () { remove.call(pipes, e2); }\n\t};\n\tif (hasOwnProperty.call(e1, '__eePipes__')) {\n\t\t(pipes = e1.__eePipes__).push(e2);\n\t\treturn pipe;\n\t}\n\tdefineProperty(e1, '__eePipes__', d('c', pipes = [e2]));\n\tdesc = getOwnPropertyDescriptor(e1, name);\n\tif (!desc) {\n\t\tdesc = d('c', undefined);\n\t} else {\n\t\tdelete desc.get;\n\t\tdelete desc.set;\n\t}\n\tdesc.value = function () {\n\t\tvar i, emitter, data = aFrom(pipes);\n\t\temit.apply(this, arguments);\n\t\tfor (i = 0; (emitter = data[i]); ++i) emit.apply(emitter, arguments);\n\t};\n\tdefineProperty(e1, name, desc);\n\treturn pipe;\n};\n"],"file":"pipe.js"}