{"version":3,"sources":["../node_modules/cli-color/columns.js"],"names":["from","require","iterable","stringifiable","repeat","getStrippedLength","module","rows","options","Object","arguments","cols","colsOptions","col","width","str","strLength","length","align","colOptions","pad","item"],"mappings":"AAAA;;AAEA,IAAIA,IAAI,GAAgBC,OAAO,CAA/B,oBAA+B,CAA/B;AAAA,IACIC,QAAQ,GAAYD,OAAO,CAD/B,kCAC+B,CAD/B;AAAA,IAEIE,aAAa,GAAOF,OAAO,CAF/B,uCAE+B,CAF/B;AAAA,IAGIG,MAAM,GAAcH,OAAO,CAH/B,yBAG+B,CAH/B;AAAA,IAIII,iBAAiB,GAAGJ,OAAO,CAJ/B,uBAI+B,CAJ/B;;AAMAK,MAAM,CAANA,OAAAA,GAAiB,UAAUC;AAAI;AAAd,EAA6B;AAC7C,MAAIC,OAAO,GAAGC,MAAM,CAACC,SAAS,CAA9B,CAA8B,CAAV,CAApB;AAAA,MAAoCC,IAAI,GAAxC,EAAA;AAAA,MACIC,WAAW,GAAGJ,OAAO,CAAPA,OAAAA,IADlB,EAAA;AAEA,SAAO,IAAI,CAACN,QAAQ,CAAT,IAAS,CAAT,EAAiB,UAAA,GAAA,EAAA,KAAA,EAAsB;AACjD,WAAOF,IAAI,CAACE,QAAQ,CAAT,GAAS,CAAT,EAAgB,UAAA,GAAA,EAAA,KAAA,EAAsB;AAChD,UAAIW,GAAG,GAAGF,IAAI,CAAd,KAAc,CAAd;AAAA,UAAA,SAAA;AACA,UAAI,CAAJ,GAAA,EAAU,GAAG,GAAGA,IAAI,CAAJA,KAAI,CAAJA,GAAc;AAAEG,QAAAA,KAAK,EAAE;AAAT,OAApB;AACVC,MAAAA,GAAG,GAAGZ,aAAa,CAAnBY,GAAmB,CAAnBA;AACAC,MAAAA,SAAS,GAAGX,iBAAiB,CAA7BW,GAA6B,CAA7BA;AACA,UAAIA,SAAS,GAAGH,GAAG,CAAnB,KAAA,EAA2BA,GAAG,CAAHA,KAAAA,GAAAA,SAAAA;AAC3B,aAAO;AAAEE,QAAAA,GAAG,EAAL,GAAA;AAAYE,QAAAA,MAAM,EAAED;AAApB,OAAP;AAND,KAAW,CAAX;AADM,GAAI,CAAJ,CAAA,GAAA,CASA,UAAA,GAAA,EAAe;AACrB,WAAO,GAAG,CAAH,GAAA,CAAQ,UAAA,IAAA,EAAA,KAAA,EAAuB;AACrC,UAAA,GAAA;AAAA,UAASE,KAAK,GAAd,MAAA;AAAA,UAAyBC,UAAU,GAAGP,WAAW,IAAIA,WAAW,CAAhE,KAAgE,CAAhE;AACAM,MAAAA,KAAK,GAAIC,UAAU,IAAKA,UAAU,CAAVA,KAAAA,KAAhB,OAACA,GAAD,OAACA,GAATD,MAAAA;AACAE,MAAAA,GAAG,GAAGhB,MAAM,CAANA,IAAAA,CAAAA,GAAAA,EAAiBO,IAAI,CAAJA,KAAI,CAAJA,CAAAA,KAAAA,GAAoBU,IAAI,CAA/CD,MAAMhB,CAANgB;AACA,UAAIF,KAAK,KAAT,MAAA,EAAsB,OAAOG,IAAI,CAAJA,GAAAA,GAAP,GAAA;AACtB,aAAOD,GAAG,GAAGC,IAAI,CAAjB,GAAA;AALM,KAAA,EAAA,IAAA,CAMEb,OAAO,CAAPA,GAAAA,IAAD,IAACA,GAAD,KAACA,GAA+BA,OAAO,CAN/C,GAAO,CAAP;AAVM,GAAA,EAAA,IAAA,CAAA,IAAA,IAAP,IAAA;AAHDF,CAAAA","sourcesContent":["'use strict';\n\nvar from              = require('es5-ext/array/from')\n  , iterable          = require('es5-ext/iterable/validate-object')\n  , stringifiable     = require('es5-ext/object/validate-stringifiable')\n  , repeat            = require('es5-ext/string/#/repeat')\n  , getStrippedLength = require('./get-stripped-length');\n\nmodule.exports = function (rows/*, options*/) {\n\tvar options = Object(arguments[1]), cols = []\n\t  , colsOptions = options.columns || [];\n\treturn from(iterable(rows), function (row, index) {\n\t\treturn from(iterable(row), function (str, index) {\n\t\t\tvar col = cols[index], strLength;\n\t\t\tif (!col) col = cols[index] = { width: 0 };\n\t\t\tstr = stringifiable(str);\n\t\t\tstrLength = getStrippedLength(str);\n\t\t\tif (strLength > col.width) col.width = strLength;\n\t\t\treturn { str: str, length: strLength };\n\t\t});\n\t}).map(function (row) {\n\t\treturn row.map(function (item, index) {\n\t\t\tvar pad, align = 'left', colOptions = colsOptions && colsOptions[index];\n\t\t\talign = (colOptions && (colOptions.align === 'right')) ? 'right' : 'left';\n\t\t\tpad = repeat.call(' ', cols[index].width - item.length);\n\t\t\tif (align === 'left') return item.str + pad;\n\t\t\treturn pad + item.str;\n\t\t}).join((options.sep == null) ? ' | ' : options.sep);\n\t}).join('\\n') + '\\n';\n};\n"],"file":"columns.js"}