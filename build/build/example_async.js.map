{"version":3,"sources":["../node_modules/external-editor/example_async.js"],"names":["ExternalEditor","require","readline","rl","input","process","output","message","editor","error","response","err"],"mappings":";;AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAPA,QAAO,CAAPA,CAArB,cAAA;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAtB,UAAsB,CAAtB;;AAEA,IAAIE,EAAE,GAAG,QAAQ,CAAR,eAAA,CAAyB;AAChCC,EAAAA,KAAK,EAAEC,OAAO,CADkB,KAAA;AAEhCC,EAAAA,MAAM,EAAE;AAFwB,CAAzB,CAAT;AAKA,IAAIC,OAAO,GAAX,qEAAA;AAEAF,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAAA,uEAAAA;AAEAG,MAAM,GAAG,IAAA,cAAA,CAATA,OAAS,CAATA;AAEAL,EAAE,CAAFA,EAAAA,CAAAA,MAAAA,EAAc,YAAY;AACxB,MAAI;AACFA,IAAAA,EAAE,CAAFA,KAAAA;AACAK,IAAAA,MAAM,CAANA,QAAAA,CAAgB,UAAA,KAAA,EAAA,QAAA,EAChB;AACE,UAAA,KAAA,EAAW;AACTH,QAAAA,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAqBI,KAAK,CAA1BJ,OAAAA;AACAA,QAAAA,OAAO,CAAPA,IAAAA,CAAAA,CAAAA;AACD;;AACD,UAAIK,QAAQ,CAARA,MAAAA,KAAJ,CAAA,EAA2B;AACzBR,QAAAA,QAAQ,CAARA,UAAAA,CAAoBG,OAAO,CAA3BH,MAAAA,EAAAA,CAAAA,EAAuC,CAAvCA,CAAAA;AACAG,QAAAA,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAAA,yFAAAA;AACAF,QAAAA,EAAE,CAAFA,MAAAA;AAHF,OAAA,MAIO;AACLE,QAAAA,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAAA,iBAAAA;AACAA,QAAAA,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAAA,QAAAA;AACAA,QAAAA,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAAA,IAAAA;AACAF,QAAAA,EAAE,CAAFA,KAAAA;AACD;AAfHK,KAAAA;AAFF,GAAA,CAmBE,OAAA,GAAA,EAAY;AACZH,IAAAA,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAqBM,GAAG,CAAxBN,OAAAA;AACAA,IAAAA,OAAO,CAAPA,MAAAA,CAAAA,KAAAA,CAAAA,IAAAA;AACAF,IAAAA,EAAE,CAAFA,KAAAA;AACD;AAxBHA,CAAAA","sourcesContent":["var ExternalEditor = require('./main').ExternalEditor;\nvar readline = require('readline');\n\nvar rl = readline.createInterface({\n  input: process.stdin,\n  output: null\n});\n\nvar message = '\\n\\n# Please Write a message\\n# Any line starting with # is ignored';\n\nprocess.stdout.write('Please write a message. (press enter to launch your preferred editor)');\n\neditor = new ExternalEditor(message);\n\nrl.on('line', function () {\n  try {\n    rl.pause();\n    editor.runAsync(function (error, response)\n    {\n      if (error) {\n        process.stdout.write(error.message);\n        process.exit(1);\n      }\n      if (response.length === 0) {\n        readline.moveCursor(process.stdout, 0, -1);\n        process.stdout.write('Your message was empty, please try again. (press enter to launch your preferred editor)');\n        rl.resume();\n      } else {\n        process.stdout.write('Your Message:\\n');\n        process.stdout.write(response);\n        process.stdout.write('\\n');\n        rl.close();\n      }\n    });\n  } catch (err) {\n    process.stderr.write(err.message);\n    process.stdout.write('\\n');\n    rl.close();\n  }\n});\n"],"file":"example_async.js"}