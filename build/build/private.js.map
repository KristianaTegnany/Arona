{"version":3,"sources":["../node_modules/private/private.js"],"names":["originalObject","originalDefProp","Object","originalCreate","value","obj","defProp","fun","makeSafeToCall","hasOwn","numToStr","Number","strSlice","String","cloner","prototype","rand","Math","uniqueKeys","create","uniqueKey","internString","exports","originalGetOPNs","names","src","dst","len","brand","makeUniqueKey","passkey","secretCreatorFn","key","forget","secret","register","object","accessor"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar originalObject = Object;\nvar originalDefProp = Object.defineProperty;\nvar originalCreate = Object.create;\n\nfunction defProp(obj, name, value) {\n  if (originalDefProp) try {\n    originalDefProp.call(originalObject, obj, name, { value: value });\n  } catch (definePropertyIsBrokenInIE8) {\n    obj[name] = value;\n  } else {\n    obj[name] = value;\n  }\n}\n\n// For functions that will be invoked using .call or .apply, we need to\n// define those methods on the function objects themselves, rather than\n// inheriting them from Function.prototype, so that a malicious or clumsy\n// third party cannot interfere with the functionality of this module by\n// redefining Function.prototype.call or .apply.\nfunction makeSafeToCall(fun) {\n  if (fun) {\n    defProp(fun, \"call\", fun.call);\n    defProp(fun, \"apply\", fun.apply);\n  }\n  return fun;\n}\n\nmakeSafeToCall(originalDefProp);\nmakeSafeToCall(originalCreate);\n\nvar hasOwn = makeSafeToCall(Object.prototype.hasOwnProperty);\nvar numToStr = makeSafeToCall(Number.prototype.toString);\nvar strSlice = makeSafeToCall(String.prototype.slice);\n\nvar cloner = function(){};\nfunction create(prototype) {\n  if (originalCreate) {\n    return originalCreate.call(originalObject, prototype);\n  }\n  cloner.prototype = prototype || null;\n  return new cloner;\n}\n\nvar rand = Math.random;\nvar uniqueKeys = create(null);\n\nfunction makeUniqueKey() {\n  // Collisions are highly unlikely, but this module is in the business of\n  // making guarantees rather than safe bets.\n  do var uniqueKey = internString(strSlice.call(numToStr.call(rand(), 36), 2));\n  while (hasOwn.call(uniqueKeys, uniqueKey));\n  return uniqueKeys[uniqueKey] = uniqueKey;\n}\n\nfunction internString(str) {\n  var obj = {};\n  obj[str] = true;\n  return Object.keys(obj)[0];\n}\n\n// External users might find this function useful, but it is not necessary\n// for the typical use of this module.\nexports.makeUniqueKey = makeUniqueKey;\n\n// Object.getOwnPropertyNames is the only way to enumerate non-enumerable\n// properties, so if we wrap it to ignore our secret keys, there should be\n// no way (except guessing) to access those properties.\nvar originalGetOPNs = Object.getOwnPropertyNames;\nObject.getOwnPropertyNames = function getOwnPropertyNames(object) {\n  for (var names = originalGetOPNs(object),\n           src = 0,\n           dst = 0,\n           len = names.length;\n       src < len;\n       ++src) {\n    if (!hasOwn.call(uniqueKeys, names[src])) {\n      if (src > dst) {\n        names[dst] = names[src];\n      }\n      ++dst;\n    }\n  }\n  names.length = dst;\n  return names;\n};\n\nfunction defaultCreatorFn(object) {\n  return create(null);\n}\n\nfunction makeAccessor(secretCreatorFn) {\n  var brand = makeUniqueKey();\n  var passkey = create(null);\n\n  secretCreatorFn = secretCreatorFn || defaultCreatorFn;\n\n  function register(object) {\n    var secret; // Created lazily.\n\n    function vault(key, forget) {\n      // Only code that has access to the passkey can retrieve (or forget)\n      // the secret object.\n      if (key === passkey) {\n        return forget\n          ? secret = null\n          : secret || (secret = secretCreatorFn(object));\n      }\n    }\n\n    defProp(object, brand, vault);\n  }\n\n  function accessor(object) {\n    if (!hasOwn.call(object, brand))\n      register(object);\n    return object[brand](passkey);\n  }\n\n  accessor.forget = function(object) {\n    if (hasOwn.call(object, brand))\n      object[brand](passkey, true);\n  };\n\n  return accessor;\n}\n\nexports.makeAccessor = makeAccessor;\n"],"file":"private.js"}